<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>MakerShare</title>
	<link rel="icon" href="img/Fevicon.png" type="image/png">

  <link rel="stylesheet" href="vendors/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="vendors/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="vendors/themify-icons/themify-icons.css">
  <link rel="stylesheet" href="vendors/linericon/style.css">
  <link rel="stylesheet" href="vendors/owl-carousel/owl.theme.default.min.css">
  <link rel="stylesheet" href="vendors/owl-carousel/owl.carousel.min.css">

  <link rel="stylesheet" href="css/style.css">  
</head>
<body>
  <!--================Header Menu Area =================-->
  <header class="header_area">
    <div class="main_menu">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container box_1620">
          <!-- Brand and toggle get grouped for better mobile display -->
          <a class="navbar-brand logo_h" href="index.html"><img width="150px" src="img/MSlogo.png" alt=""></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
            <ul class="nav navbar-nav menu_nav justify-content-end">
              <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li> 
              <li class="nav-item submenu dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                aria-expanded="false">Listings</a>
				  <ul class="dropdown-menu">
					<li class="nav-item active"><a class="nav-link" href="worker.html">Essential Worker</a></li>
					<li class="nav-item"><a class="nav-link" href="member.html">Community Member</a></li>
				  </ul>
				</li>
              <li class="nav-item"><a class="nav-link" href="leaderboard.html">Leaderboard</a></li>
              <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
            </ul>

            <ul class="navbar-right">
              <li class="nav-item">
				  <a href="login.html" class="button button-header bg">Sign up</a>
              </li>
            </ul>
          </div> 
        </div>
      </nav>
    </div>
  </header>
  <!--================Header Menu Area =================-->

  <!--================ Hero sm Banner start =================-->      
  <section class="hero-banner hero-banner--sm mb-30px">
    <div class="container">
      <div class="hero-banner--sm__content">
        <h1>Listings</h1>
        <nav aria-label="breadcrumb" class="banner-breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Essential Worker</li>
          </ol>
        </nav>
      </div>
    </div>
  </section>
		<section>
      <div class="d-none d-sm-block mb-5 pb-4">
        <div id="map" style="height: 840px;"></div>
        <script>

        function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 10,
    center: {lat: 30, lng: 70}
  });

  setMarkers(map);
}

var beaches = [
  ['Bondi Beach', 30, 70, 4],
  ['Coogee Beach', 30.15, 70, 5],
  ['Cronulla Beach', 30.3, 70.1, 3],
  ['Manly Beach', 29.85, 70.15, 2],
  ['Maroubra Beach', 29.7, 69.95, 1]
];

function setMarkers(map) {
  // Adds markers to the map.

  var image = {
    url: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
    // This marker is 20 pixels wide by 32 pixels high.
    size: new google.maps.Size(20, 32),
    // The origin for this image is (0, 0).
    origin: new google.maps.Point(0, 0),
    // The anchor for this image is the base of the flagpole at (0, 32).
    anchor: new google.maps.Point(0, 32)
  };
  var shape = {
    coords: [1, 1, 1, 20, 18, 20, 18, 1],
    type: 'poly'
  };
  for (var i = 0; i < beaches.length; i++) {
    var beach = beaches[i];
    var marker = new google.maps.Marker({
      position: {lat: beach[1], lng: beach[2]},
      map: map,
      icon: image,
      shape: shape,
      title: beach[0],
      zIndex: beach[3]
    });
  }
}

        </script>

        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCq79w6dxRnDoHKnNvj5A0dYggMZ2Ah9pU&callback=initMap"
        type="text/javascript"></script>
      </div>
  </section>
	<style>
		.card {
			margin: 20px;
			padding: 20px;
			box-shadow: 0 0 10px #444;
			padding-bottom: 40px;
		}
		dark {
			color: #0F0F0F;
		}
	</style>
		<div id="listings" class="container">
			<a href="create-listing.html" class="button button-contactForm">Create Listing</a>
		</div>
	
	<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase.js"></script>
	<script src="js/database-init.js"></script>
	<script>
	var database = firebase.database();
	var snap = database.ref("Listings").limitToFirst(25);
	var listings = document.getElementById("listings");
	snap.once('value', function(snapshot) {
	  	snapshot.forEach(function(childSnapshot) {
			var childKey = childSnapshot.key;
			var childData = childSnapshot.val();
			
			var card = document.createElement("div");
			card.classList.add("card");
			
			var titleText = document.createElement("h2");
			titleText.innerHTML = childData["Username"];
			
			var description = document.createElement("p");
			description.innerHTML = "<dark>" + childData["Desc"] + "</dark>";
			
			var email = document.createElement("p");
			email.innerHTML = "<dark>Email:  </dark>" + childData["Email"];
			
			var phone = document.createElement("p");
			phone.innerHTML = "<dark>Phone Number:  </dark>" + childData["Phone"];
			
			
			card.appendChild(titleText);
			card.appendChild(description);
			card.appendChild(email);
			card.appendChild(phone);
			listings.appendChild(card);
		});
	});
	</script>
  <script src="vendors/jquery/jquery-3.2.1.min.js"></script>
  <script src="vendors/bootstrap/bootstrap.bundle.min.js"></script>
  <script src="vendors/owl-carousel/owl.carousel.min.js"></script>
  <script src="js/jquery.ajaxchimp.min.js"></script>
  <script src="js/mail-script.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
